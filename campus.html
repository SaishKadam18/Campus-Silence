<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Campus Silence</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen flex flex-col items-center justify-center p-4">

  <!-- App Header -->
  <h1 class="text-3xl font-bold mb-6">Campus-Silence</h1>

  <!-- Button to trigger location -->
  <button onclick="requestLocation()" class="bg-blue-600 text-white px-6 py-3 rounded shadow hover:bg-blue-700 transition">
    Enable Location
  </button>

  <!-- Display Result -->
  <div id="output" class="mt-6 text-center text-lg text-gray-700"></div>

  <!-- JS Script -->
  <script>
    function requestLocation() {
      const output = document.getElementById("output");

      if (!navigator.geolocation) {
        output.textContent = "Geolocation is not supported by your browser.";
        return;
      }

      navigator.permissions.query({ name: 'geolocation' }).then(function(result) {
        if (result.state === 'granted' || result.state === 'prompt') {
          navigator.geolocation.getCurrentPosition(
            (position) => {
              const lat = position.coords.latitude;
              const lng = position.coords.longitude;
              output.innerHTML = `<b>Latitude:</b> ${lat} <br><b>Longitude:</b> ${lng}`;
              console.log("Latitude:", lat, "Longitude:", lng);
              alert("Location accessed!");
            },
            (error) => {
              output.textContent = "Error getting location: " + error.message;
              alert("Location error: " + error.message);
            },
            {
              enableHighAccuracy: true,
              timeout: 10000,
              maximumAge: 0
            }
          );
        } else {
          output.textContent = "Location permission denied. Please allow it from browser settings.";
        }
      });
    }
  </script>
</body>
</html>
